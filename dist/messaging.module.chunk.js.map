{"version":3,"sources":["./src/app/Components/messaging/messaging.component.html","./src/app/Components/messaging/messaging.component.scss","./src/app/Components/messaging/messaging.component.ts","./src/app/Components/messaging/messaging.module.ts","./src/app/Routes/messaging.routes.ts"],"names":[],"mappings":"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","file":"messaging.module.chunk.js","sourcesContent":["module.exports = \"<section id=\\\"w-messages\\\" *ngIf=\\\"!mobile\\\">\\n\\t<div *ngIf=\\\"profile\\\">\\n\\t\\t<div class=\\\"wm-head bg-default\\\" [ngStyle]=\\\"{'background-image': 'url(' + profile.cover_picture + ')'}\\\">\\n\\t\\t\\t<div class=\\\"filter\\\"></div>\\n\\t\\t\\t<div class=\\\"wmh-presentation flex align-center\\\">\\n\\t\\t\\t\\t<h1 class=\\\"freigs flex-grow\\\">Messages</h1>\\n\\t\\t\\t\\t<button class=\\\"freigm cursor-pt\\\" (click)=\\\"showSearchUsersModal(1)\\\">New Message</button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div class=\\\"wm-body\\\">\\n\\t\\t<div class=\\\"wm-body-background flex\\\">\\n\\t\\t\\t<div class=\\\"wmb-room\\\">\\n\\t\\t\\t\\t<div class=\\\"wmbr-input bb\\\">\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" name=\\\"searchRoom\\\" placeholder=\\\"Search users or messages\\\" [(ngModel)]=\\\"searchContact\\\"/>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"wmbr-users\\\" *ngIf=\\\"discussions\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"wmbru-user flex cursor-pt\\\" [ngClass]=\\\"{ 'active-message' : (tab === discussion.id) || !discussion.read }\\\" *ngFor=\\\"let discussion of (discussions | searchPipe: 'members[0]': searchContact: 'full_name'); let i = index\\\" (click)=\\\"showMessage(i)\\\">\\n\\t\\t\\t\\t\\t\\t<img class=\\\"mar-r-15\\\" [src]=\\\"discussion.members[0].picture\\\" alt=\\\"profile_picture\\\"/>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"wmbruu-info\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"on-off flex\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"mar-r-5\\\" [ngClass]=\\\"{'on': discussion.members[0].online, 'off': !discussion.members[0].online}\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"freigs\\\">{{ discussion.members[0].full_name }}</h4>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"freigb innerHtml mar-b-5\\\" [innerHtml]=\\\"discussion.last_message | sanitizeHtml\\\"></p>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"freigb\\\">{{ discussion.date | amTimeAgo }}</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"wmb-message\\\" *ngIf=\\\"chat.id !== 0\\\">\\n\\t\\t\\t\\t<div class=\\\"wmbm-nav flex\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"wmbmn-title flex flex-grow\\\">\\n\\t\\t\\t\\t\\t\\t<img class=\\\"mar-r-15\\\" *ngIf=\\\"chat.picture\\\" [src]=\\\"chat.picture\\\" alt=\\\"profile_picture\\\"/>\\n\\t\\t\\t\\t\\t\\t<h2 class=\\\"freigs\\\">Conversation with {{ chat.full_name }}</h2>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"wmbmn-options flex\\\">\\n\\t\\t\\t\\t\\t\\t<h2 class=\\\"freigb mar-r-10\\\">Actions</h2>\\n\\t\\t\\t\\t\\t\\t<img src=\\\"/public/images/arrow-down-icon-b.svg\\\" alt=\\\"arrow\\\"/>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\\\"wmbm-messsages\\\" #scrollBottom>\\n\\t\\t\\t\\t\\t<div class=\\\"wmbmm-message flex\\\" *ngFor=\\\"let message of messages\\\">\\n\\t\\t\\t\\t\\t\\t<img class=\\\"mar-r-15\\\" [src]=\\\"message.sender_picture\\\" alt=\\\"profile_picture\\\"/>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"wmbmmm-text flex-grow\\\">\\n\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"freigs\\\">{{ message.name }}</h4>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"freigb innerHtml\\\" [innerHtml]=\\\"message.message | sanitizeHtml\\\"></p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"freigm\\\">{{ message.creation_date | amTimeAgo }}</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\\\"wmbm-textarea\\\">\\n\\t\\t\\t\\t\\t<textarea placeholder=\\\"Write a reply...\\\" [(ngModel)]=\\\"message\\\" name=\\\"message\\\"></textarea>\\n\\t\\t\\t\\t\\t<button (click)=\\\"sendMessage()\\\">Send</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\n\\t\\t</div>\\n\\t</div>\\n</section>\\n\\n<section id=\\\"w-messages-mobile\\\" *ngIf=\\\"mobile\\\">\\n\\t<div class=\\\"wmm-head flex\\\">\\n\\t\\t<input type=\\\"text\\\" name=\\\"name\\\" placeholder=\\\"Search users or messages\\\" [(ngModel)]=\\\"searchContact\\\" />\\n\\t\\t<img src=\\\"/public/images/write-icon-g.svg\\\" atl=\\\"new_message\\\" (click)=\\\"showSearchUsersModal(1)\\\" />\\n\\t\\t<a [routerLink]=\\\"['/']\\\"><i class=\\\"fa fa-home\\\"></i></a>\\n\\t</div>\\n\\t<div class=\\\"wmm-discussions\\\" *ngIf=\\\"discussions\\\">\\n\\t\\t<div class=\\\"wmmd-discussion flex\\\" *ngFor=\\\"let discussion of (discussions | searchPipe: 'members[0]': searchContact: 'full_name'); let i = index\\\" (click)=\\\"showMessage(i, 1)\\\" [ngClass]=\\\"{ 'active-message' : !discussion.read }\\\">\\n\\t\\t\\t<img class=\\\"mar-r-15\\\" [src]=\\\"discussion.members[0].picture\\\" alt=\\\"profile_picture\\\" />\\n\\t\\t\\t<div class=\\\"wmmdd-message\\\">\\n\\t\\t\\t\\t<div class=\\\"wmmddm-info flex\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"mar-r-5\\\" [ngClass]=\\\"{'on': discussion.members[0].online, 'off': !discussion.members[0].online}\\\"></i>\\n\\t\\t\\t\\t\\t<h3 class=\\\"freigm\\\">{{ discussion.members[0].full_name }}</h3>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<p class=\\\"freigb innerHtml mar-b-5\\\" [innerHtml]=\\\"discussion.last_message | sanitizeHtml\\\"></p>\\n\\t\\t\\t\\t<span class=\\\"freigb\\\">{{ discussion.date | amTimeAgo }}</span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</section>\\n<app-footer></app-footer>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/Components/messaging/messaging.component.html\n// module id = ./src/app/Components/messaging/messaging.component.html\n// module chunks = messaging.module","module.exports = \"#w-messages .wm-head {\\n  height: 200px;\\n  position: relative; }\\n  #w-messages .wm-head .wmh-presentation {\\n    position: absolute;\\n    width: 1000px;\\n    left: 0;\\n    right: 0;\\n    margin: 0 auto;\\n    margin-top: 30px; }\\n  #w-messages .wm-head .wmh-presentation h1 {\\n      font-size: 32px; }\\n  #w-messages .wm-head .wmh-presentation button {\\n      background-image: url(/public/images/write-icon.svg);\\n      background-color: transparent;\\n      border: 1px solid #fff;\\n      padding-left: 45px;\\n      background-repeat: no-repeat;\\n      background-size: 18px;\\n      background-position: 15px 48%; }\\n  #w-messages .wm-head .wmh-presentation button:hover {\\n      background-image: url(/public/images/write-icon-b.svg);\\n      background-color: #fff;\\n      color: #222; }\\n  #w-messages .wm-body {\\n  background-color: #fafafa; }\\n  #w-messages .wm-body img {\\n    width: 40px; }\\n  #w-messages .wm-body .wm-body-background {\\n    width: 1000px;\\n    margin: 0 auto;\\n    -webkit-box-align: start;\\n        -ms-flex-align: start;\\n            align-items: flex-start; }\\n  #w-messages .wm-body .wm-body-background .wmb-room {\\n      width: 35%;\\n      border-right: 1px solid #e5e5e5; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-input {\\n        padding: 25px 0;\\n        border-bottom: 1px solid #e5e5e5;\\n        padding-right: 30px; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-input input {\\n          margin: 0;\\n          width: 100%;\\n          background-image: url(/public/images/search-icon-b.svg);\\n          background-repeat: no-repeat;\\n          background-position: 3% 50%; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users {\\n        height: 450px;\\n        overflow-y: auto; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user {\\n          -webkit-box-align: start;\\n              -ms-flex-align: start;\\n                  align-items: flex-start;\\n          padding: 15px 0 15px 15px;\\n          border-bottom: 1px solid #e5e5e5; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user h4, #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user p {\\n            color: #222; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user span {\\n            color: #999;\\n            font-size: 14px; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user img {\\n            border-radius: 50%; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user p {\\n            font-size: 15px; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user .wmbruu-info .on-off {\\n            -webkit-box-align: center;\\n                -ms-flex-align: center;\\n                    align-items: center; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user .wmbruu-info .on-off .on {\\n              width: 10px;\\n              height: 10px;\\n              background: #42B72A;\\n              border-radius: 50px;\\n              margin-right: 5px; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user .wmbruu-info .on-off .off {\\n              width: 10px;\\n              height: 10px;\\n              background: gray;\\n              border-radius: 50px;\\n              margin-right: 5px; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user .wmbruu-info p {\\n            max-height: 25px;\\n            overflow-y: hidden; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user:hover {\\n          background-color: #e9edf3; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user:hover h4, #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user:hover p, #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .wmbru-user:hover span {\\n            color: #5471A3; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .active-message {\\n          background-color: #e9edf3; }\\n  #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .active-message h4, #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .active-message p, #w-messages .wm-body .wm-body-background .wmb-room .wmbr-users .active-message span {\\n            color: #5471A3; }\\n  #w-messages .wm-body .wm-body-background .wmb-message {\\n      width: 65%;\\n      border-right: 1px solid #e5e5e5; }\\n  #w-messages .wm-body .wm-body-background .wmb-message h2 {\\n        font-size: 18px; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-nav {\\n        padding: 15px 30px;\\n        border-bottom: 1px solid #e5e5e5; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-nav .wmbmn-title h2 {\\n          color: #222; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-nav .wmbmn-title img {\\n          border-radius: 50%; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-nav .wmbmn-options {\\n          -webkit-box-align: baseline;\\n              -ms-flex-align: baseline;\\n                  align-items: baseline; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-nav .wmbmn-options img {\\n            width: 11px; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-nav .wmbmn-options h2 {\\n            color: #999; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages {\\n        background-color: #fff;\\n        border-bottom: 1px solid #e5e5e5;\\n        height: 300px;\\n        overflow-y: auto; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages .wmbmm-message {\\n          -webkit-box-align: start;\\n              -ms-flex-align: start;\\n                  align-items: flex-start;\\n          padding: 15px 30px;\\n          border-bottom: 1px solid #fafafa; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages .wmbmm-message img {\\n            width: 36px;\\n            border-radius: 50%; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages .wmbmm-message .wmbmmm-text h4, #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages .wmbmm-message .wmbmmm-text p {\\n            color: #222; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages .wmbmm-message .wmbmmm-text p {\\n            word-break: break-word;\\n            font-size: 15px; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-messsages .wmbmm-message span {\\n            font-size: 14px;\\n            color: #999;\\n            -ms-flex-negative: 0;\\n                flex-shrink: 0; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-textarea {\\n        padding: 20px;\\n        margin: 0; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-textarea textarea {\\n          border-radius: 4px; }\\n  #w-messages .wm-body .wm-body-background .wmb-message .wmbm-textarea button {\\n          margin: 0;\\n          border-radius: 4px;\\n          display: block;\\n          margin-left: auto; }\\n  /******************** MOBILE ****************************/\\n  @media only screen and (max-width: 736px) {\\n  #w-messages-mobile {\\n    position: fixed;\\n    width: 100vw;\\n    height: 100vh;\\n    overflow: hidden;\\n    background-color: #fff;\\n    z-index: 10000; }\\n    #w-messages-mobile .wmm-head {\\n      padding: 5px 10px;\\n      border-bottom: 1px solid #e5e5e5;\\n      background-color: #fafafa; }\\n      #w-messages-mobile .wmm-head input {\\n        margin: 0;\\n        margin-right: 15px;\\n        -webkit-box-flex: 1;\\n            -ms-flex-positive: 1;\\n                flex-grow: 1;\\n        background-repeat: no-repeat;\\n        background-position: 10px 50%;\\n        background-image: url(\\\"/public/images/search-icon-b.svg\\\"); }\\n      #w-messages-mobile .wmm-head img {\\n        width: 20px;\\n        padding: 10px; }\\n      #w-messages-mobile .wmm-head i {\\n        color: #999;\\n        font-size: 22px;\\n        padding: 10px; }\\n    #w-messages-mobile .wmm-discussions {\\n      height: 100vh;\\n      overflow: auto;\\n      -webkit-box-sizing: border-box;\\n              box-sizing: border-box;\\n      padding-bottom: 150px; }\\n      #w-messages-mobile .wmm-discussions .active-message {\\n        background-color: #e9edf3; }\\n        #w-messages-mobile .wmm-discussions .active-message h4, #w-messages-mobile .wmm-discussions .active-message p, #w-messages-mobile .wmm-discussions .active-message span {\\n          color: #5471A3; }\\n      #w-messages-mobile .wmm-discussions .wmmd-discussion {\\n        padding: 15px 10px;\\n        border-bottom: 1px solid #e5e5e5; }\\n        #w-messages-mobile .wmm-discussions .wmmd-discussion img {\\n          width: 50px;\\n          height: 50px;\\n          border-radius: 50%; }\\n        #w-messages-mobile .wmm-discussions .wmmd-discussion .wmmdd-message .wmmddm-info .off {\\n          width: 10px;\\n          height: 10px;\\n          background: gray;\\n          border-radius: 50px;\\n          margin-right: 5px; }\\n        #w-messages-mobile .wmm-discussions .wmmd-discussion .wmmdd-message .wmmddm-info .on {\\n          width: 10px;\\n          height: 10px;\\n          background: #42B72A;\\n          border-radius: 50px;\\n          margin-right: 5px; }\\n        #w-messages-mobile .wmm-discussions .wmmd-discussion .wmmdd-message h3, #w-messages-mobile .wmm-discussions .wmmd-discussion .wmmdd-message p {\\n          color: #222; }\\n        #w-messages-mobile .wmm-discussions .wmmd-discussion .wmmdd-message span {\\n          color: #999;\\n          font-size: 14px; } }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/Components/messaging/messaging.component.scss\n// module id = ./src/app/Components/messaging/messaging.component.scss\n// module chunks = messaging.module","import { Component, OnInit, AfterViewChecked, ElementRef, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\n/* Components */\nimport { SearchModalUserComponent } from '../modals/search-modal-user/search-modal-user.component';\nimport { MessageModalComponent } from '../modals/message-modal/message-modal.component';\nimport { MessagesMobileModalComponent } from '../modals/mobile-modals/messages-mobile-modal/messages-mobile-modal.component';\n\n/* Services */\nimport { SocketService } from '../../Services/Socket/socket.service';\nimport { TokenService } from '../../Services/Authentication/token.service';\nimport { DialogService } from 'ng2-bootstrap-modal';\nimport { ProfilesService } from '../../Services/Profiles/profiles.service';\nimport { SharedService } from '../../Services/shared.service';\n\n@Component({\n\tselector:      'app-messaging',\n\ttemplateUrl:   './messaging.component.html',\n\tstyleUrls:     ['./messaging.component.scss'],\n\tencapsulation: ViewEncapsulation.None,\n\tproviders:     [ProfilesService]\n})\nexport class MessagingComponent implements OnInit, AfterViewChecked {\n\t@ViewChild('scrollBottom') container: ElementRef;\n\n\tchat \t\t: any = {\n\t\tid: 0\n\t}\n\tmessage \t: string = ''\n\tmessages \t: any[]\n\tsender \t\t: any\n\treceiver \t: any\n\tuser \t\t: number\n\tdiscussions : any\n\ttab \t\t: number\n\tfirst \t\t: number = 0\n\tprofile \t: Object\n\tsearchContact: string\n\tmobile \t\t: boolean = false\n\tcheckModal \t: boolean = false\n\n\tconstructor(private dialogService: DialogService,\n\t\tprivate SocketService: SocketService,\n\t\tprivate token: TokenService,\n\t\tprivate ProfilesService: ProfilesService,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate SharedService: SharedService) {\n\t}\n\n\tngOnInit() {\n\t\tthis.initWindow();\n\t\tthis.getDiscussions()\n\t\t// this.getMessages();\n\t\tthis.getUserProfile();\n\t}\n\n\tinitTab() {\n\t\tif (!this.first) {\n\t\t\tthis.route.queryParams.subscribe(params => {\n\t\t\t\tthis.first = 1\n\t\t\t\tif (params['id'])\n\t\t\t\t\tthis.tab = params['id']\n\t\t\t\telse\n\t\t\t\t\tthis.tab = 0\n\t\t\t\tthis.showMessage(this.tab, 0, false, false);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitWindow() {\n\t\twindow.scrollTo(0, 0);\n\n\t\tif ((window.screen.width) < 736)\n\t\t\tthis.mobile = true\n\t}\n\n\tgetDiscussions() {\n\t\tthis.SocketService.discussions()\n\t\t.subscribe(discussions => {\n\t\t\tthis.discussions = discussions.discussions;\n\n\t\t\tif (this.discussions.length && !this.mobile) {\n\t\t\t\tthis.initTab();\n\t\t\t}\n\t\t});\n\t}\n\n\tngAfterViewChecked() {\n\t\tthis.scrollToBottom();\n\t}\n\n\tscrollToBottom(): void {\n\t\ttry {\n\t\t\tthis.container.nativeElement.scrollTop = this.container.nativeElement.scrollHeight;\n\t\t} catch (err) {\n\t\t}\n\t}\n\n\tgetUserProfile() {\n\t\tthis.ProfilesService.getProfile(this.token.getToken().user.id).subscribe(res => {\n\t\t\tthis.profile = res.profile;\n\t\t});\n\t}\n\n\tshowMessage(index, mobile, check, newId) {\n\t\tlet id;\n\t\tif (mobile === 2) {\n\t\t\tid \t\t\t= index;\n\t\t} else {\n\t\t\tid \t\t\t= this.discussions[index].id\n\t \t\tthis.tab \t= this.discussions[index].id\n\t\t\tthis.updateRead(index);\n\t\t}\n\t\tthis.SocketService.fetchMessages(id) // TODO: duplicate on each call\n\t\t.subscribe(messages => {\n\t\t\tif (!this.mobile) {\n\t\t\t\tthis.messages \t\t= messages.messages\n\t\t\t\tthis.chat \t\t\t= this.discussions[index].members[0]\n\t\t\t\tthis.chat.roomId \t= this.discussions[index].id\n\t\t\t} else {\n\t\t\t\tif (mobile) {\n\t\t\t\t\tif (check && index) {\n\t\t\t\t\t\tlet roomIndex;\n\t\t\t\t\t\tfor (var i = 0; i < this.discussions.length; i++) {\n\t\t\t\t\t\t\tif (this.discussions[i].id === index) {\n\t\t\t\t\t\t\t\troomIndex = i;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.showMessageMobileModal(messages, this.discussions[roomIndex].members[0]);\n\t\t\t\t\t\tid = 0;\n\t\t\t\t\t} else if (!check) {\n\t\t\t\t\t\tthis.showMessageMobileModal(messages, this.discussions[index].members[0]);\n\t\t\t\t\t\tid = 0;\n\t\t\t\t\t} else if (check && newId) {\n\t\t\t\t\t\tthis.showMessageMobileModal({ messages: [] }, { room_id: false, uid: newId });\n\t\t\t\t\t\tid = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t}\n\n\tupdateRead(index) {\n\t\tthis.SocketService.messagesMarkAsRead(this.discussions[index].id);\n\t\tsetTimeout( () => {\n\t\t\tthis.SharedService.reloadSocket(true);\n\t\t}, 500);\n\t}\n\n\tsendMessage() {\n\t\t//BACK\n\t\tthis.SocketService.sendMessage({\n\t\t\tmessage : this.replaceNewline(this.message),\n\t\t\tsender \t: this.profile['uid'],\n\t\t\tmembers : [this.chat.uid, this.profile['uid']],\n\t\t\troomId \t: this.chat.roomId,\n\t\t});\n\t\tthis.message = ''\n\t\tthis.reloadMessage();\n\t}\n\n\treloadMessage() {\n\t\tthis.getDiscussions();\n\t\tsetTimeout(() => {\n\t\t\tthis.showMessage(0, 0, false, false)\n\t\t}, 200);\n\t}\n\n\tcheckExistRoom(id, list) {\n\t\tconst length \t= list.length\n\t\tlet check1 \t\t= false\n\t\tlet check2 \t\t= false\n\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tfor (var c = 0; c < list[i].members.length; c++) {\n\t\t\t\tif (id === list[i].members[c].uid || this.profile['uid'] === list[i].members[c].uid) {\n\t\t\t\t\tif (id === list[i].members[c].uid)\n\t\t\t\t\t\tcheck1 = true\n\t\t\t\t\tif (this.profile['uid'] === list[i].members[c].uid)\n\t\t\t\t\t\tcheck2 = true\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (check1 && check2)\n\t\t\t\treturn list[i].members[0].room_id\n\t\t\telse\n\t\t\t\tcheck1 = check2 = false\n\t\t}\n\t\treturn false\n\t}\n\n\treplaceNewline(text) {\n\t\treturn text.replace(/\\r?\\n/g, '<br />');\n\t}\n\n\t/* SHOW MODAL */\n\tshowSearchUsersModal(id: number) {\n\t\tlet disposable = this.dialogService.addDialog(SearchModalUserComponent, {\n\t\t\tcalled_id: id\n\t\t}).subscribe(profile => {\n\t\t\tif (profile && !this.mobile) {\n\t\t\t\tthis.showMessageModal(profile)\n\t\t\t} else if (profile && this.mobile) {\n\t\t\t\tconst room_id = this.checkExistRoom(profile['uid'], this.discussions)\n\n\t\t\t\tthis.showMessage(room_id, 2, true, profile['uid']);\n\t\t\t}\n\t\t});\n\t}\n\n\tshowMessageModal(profile: Object) {\n\t\tlet disposable = this.dialogService.addDialog(MessageModalComponent, {\n\t\t\tprofile \t: profile,\n\t\t\troomId \t\t: this.checkExistRoom(profile['uid'], this.discussions)\n\t\t}).subscribe(success => {\n\t\t\tif (success)\n\t\t\t\tthis.reloadMessage();\n\t\t});\n\t}\n\n\t/* MOBILE SHOW MODAL */\n\tshowMessageMobileModal(messages, member) {\n\t\tif (!this.checkModal) {\n\t\t\tthis.checkModal = true\n\t\t\tlet disposable = this.dialogService.addDialog(MessagesMobileModalComponent, {\n\t\t\t\tobject \t: messages,\n\t\t\t\tmembers : member\n\t\t\t}).subscribe( res => {\n\t\t\t\tthis.getDiscussions();\n\t\t\t\tthis.checkModal = false\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/Components/messaging/messaging.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\n/* Custom Modules */\nimport { PipeModule } from '../../Pipes/pipe.module';\nimport { FooterModule } from '../footer/footer.module';\nimport { MomentModule } from 'angular2-moment';\n\n/* Components */\nimport { MessagingComponent } from './messaging.component';\n// import { MeetSearchComponent } from './discover-search/discover-search.component';\n\n/* Services */\n// import { SharedService } from '../../Services/shared.service';\n\n/* Route */\nimport { MESSAGE_ROUTES } from '../../Routes/messaging.routes';\n\n@NgModule({\n\timports: [\n\t\tMESSAGE_ROUTES,\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tRouterModule,\n\t\tPipeModule,\n\t\tFooterModule,\n\t\tMomentModule\n\t],\n\tdeclarations: [\n\t\tMessagingComponent\n\t],\n\tproviders: [\n\t\t// SharedService\n\t],\n\texports: [\n\t]\n})\nexport class MessagingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/Components/messaging/messaging.module.ts","/* Modules */\nimport { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n/* Components */\nimport { MessagingComponent } from '../Components/messaging/messaging.component';\n\n/* Librairies */\n\nconst routes: Routes = [\n\t{ path: '', component: MessagingComponent },\n];\n\nexport const MESSAGE_ROUTES: ModuleWithProviders = RouterModule.forChild(routes);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/Routes/messaging.routes.ts"],"sourceRoot":"webpack:///"}